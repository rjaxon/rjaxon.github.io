<html>

    <head>
        <title>
            Music Notes
        </title>

        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.6.2.min.js"></script>
    </head>

<style>

body {
    font-weight: 2em;
}

div {
    padding: 1em;
}

.board {
    padding: 0em;
    width: 1000px;
    height: 588px;
    background-image: url('./caged-Cmaj-amin.png');
    background-repeat: repeat;
}

.board-top {
    height: 60px;
}

.board-main{
    height: 371px;
    width: 1074px;
    background-position: 0px -70px;
}

.board-bottom{
    height: 94px;
    background-position: 0px 0px;
    background-image: url('./scales-major.png');
    background-repeat: repeat;
    width: 915px;
}

.set-c {
    background-position: 0px -70px;
}

.set-g {
    background-position: -332px -70px;
}

.set-d {
    background-position: -664px -70px;
}

.set-a {
    background-position: -198px -70px;
}

.set-e {
    background-position: 269px -70px;
}

.set-b {
    background-position: -65px -70px;
}

.scale-c {
    background-position: 0px 0px;
}

.scale-g {
    background-position: 0px -114px;
}

.scale-d {
    background-position: 0px -225px;
}

.scale-a {
    background-position: 0px -378px;
}

.scale-e {
    background-position: 0px -494px;
}

.scale-b {
    background-position: 0px -607px;
}

.buttons {
    div {
        background: orange;
        display: inline-block;
        margin: .25em;
        width: 5em;
        height: 5em;
        max-width: 5em;
        max-height: 5em;
        border-radius: 10px;
        font-weight: bold;
        text-align: center;
    }
}

.no-flats {
    background-image: url('./caged-no-flats.png');
}

.pentatonic {
    background-image: url('./caged-pentatonic.png');
}

</style>
    <body>


        <div>
            <img src="./NOTES-Cmaj.png" style="width: 937px" />
        </div>

        <div>
            <img src="./fretboard Natural.jpg" style="width: 987px" />
        </div>

        <div class="buttons">
            <div onclick="board_toggle_class('pentatonic')"> Pentatonic </div>
            <div onclick="board_toggle_class('no-flats')"> Hide Flats </div>
        </div>

        <div>

            <div class="board board-top">
            </div>
            <div id="board" class="board board-main set-c">
            </div>
            <div id="board-bottom" class="board board-bottom">
            </div>
        </div>

        <div class="buttons keys">
            <div onclick="on_key_click('c')"> C </div>
            <div onclick="on_key_click('g')"> G </div>
            <div onclick="on_key_click('d')"> D </div>
            <div onclick="on_key_click('a')"> A </div>
            <div onclick="on_key_click('e')"> E </div>
            <div onclick="on_key_click('b')"> B </div>
        </div>

        <div>
            Drum Tracks from <a href="https://www.midnightdrummer.com/backing-drum-tracks/">midnightdrummer.com</a>
        </div>

        <div>
            <audio controls loop>
                  <source id="audio-player" src="./tracks/Basic-Shuffle-Groove-120-BPM.mp3" type="audio/mpeg" />
                  Your browser does not support the audio element.
            </audio>
        </div>

    </body>

    <script type="text/javascript">

        function on_key_click(new_key) {
            
            let keys = ['c', 'g', 'd', 'a', 'e', 'b'];
            let $board = $('#board');
            let $scale = $('#board-bottom');

            keys.forEach(key => {
                $board.removeClass('set-' + key);
                $scale.removeClass('scale-' + key);
            });

            $board.addClass('set-' + new_key);
            $scale.addClass('scale-' + new_key);
        }

        function board_toggle_class(css_class) {
            let $board = $('#board');

            if($board.hasClass(css_class)) {
                $board.removeClass(css_class);
            }
            else {
                $board.addClass(css_class);
            }
        }

    </script>
</html>
